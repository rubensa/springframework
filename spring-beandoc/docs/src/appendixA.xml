<?xml version="1.0" encoding="UTF-8"?>
<chapter id="appendixA">
  <title>Appendix A</title>

  <sect1>
    <title>Graphing Styles</title>

    <para>Standard graphing types are highlighted below showing the most
    common bean types and relationships that you will see on your output
    files.</para>

    <para>In the first example, two unrelated beans are graphed. One
    (petStore) is a singleton and is displayed with a double border. The other
    (myPrototype) is a non-singleton and will be graphed with a single border.
    The context definition for these two beans may have looked like
    this:</para>

    <programlisting>&lt;bean id="petStore" class=".."/&gt;
&lt;bean id="myPrototype class=".." singleton="false"/&gt;</programlisting>

    <mediaobject>
      <imageobject>
        <imagedata align="center" fileref="images/prototype.png" />
      </imageobject>

      <caption>
        <para>Singleton and prototype beans</para>
      </caption>
    </mediaobject>

    <para>In the next example, a standard dependency between two beans is
    highlighted. Note that the graphing output will always show a top to
    bottom layout wherever possible for dependency information. The bean
    definition producing this output may have looked like this;</para>

    <programlisting>&lt;bean id="petStore" class=".."&gt;
  &lt;property name="accountDao"&gt;&lt;ref local="accountDao"/&gt;&lt;/property&gt;
&lt;/bean&gt;
&lt;bean id="accountDao" class=".."/&gt;</programlisting>

    <mediaobject>
      <imageobject>
        <imagedata align="center" fileref="images/dependency.png" />
      </imageobject>

      <caption>
        <para>Standard dependency</para>
      </caption>
    </mediaobject>

    <para>The next graph shows exactly the same two beans, however this time
    the accountDao bean has been moved into a different context definition
    file from the one currently being graphed and is shown therefore with a
    dotted border since we have no other information other than its name. This
    will commonly be seen on graphs for individual context files, but not on
    the consolidated graph.</para>

    <mediaobject>
      <imageobject>
        <imagedata align="center" fileref="images/missing.png" />
      </imageobject>

      <caption>
        <para>Dependent bean missing from this file</para>
      </caption>
    </mediaobject>

    <para>Beans can be defined as child beans by specifying a parent attribute
    in the XML. This configuration is highlighted with a reverse, open dot
    arrow head and a dotted line from the child bean to its parent definition.
    The graph below could have resulted from the following context definition
    snippet;</para>

    <programlisting>&lt;bean id="baseTransactionProxy" class=".."/&gt;
&lt;bean id="petStore" parent="baseTransactionProxy"/&gt;</programlisting>

    <mediaobject>
      <imageobject>
        <imagedata align="center" fileref="images/parent.png" />
      </imageobject>

      <caption>
        <para>Parent/child inheritance</para>
      </caption>
    </mediaobject>

    <para>Finally, the same two beans as above, but with the parent bean
    marked as abstract. The abstract bean is shown with a skewed shape. This
    could have been generated from the following context definition
    snippet;</para>

    <programlisting>&lt;bean id="baseTransactionProxy" class=".." abstract="true"/&gt;
&lt;bean id="petStore" parent="baseTransactionProxy"/&gt;</programlisting>

    <mediaobject>
      <imageobject>
        <imagedata align="center" fileref="images/abstract.png" />
      </imageobject>

      <caption>
        <para>Parent/child inheritance with an abstract parent</para>
      </caption>
    </mediaobject>
  </sect1>
</chapter>