<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE webflow PUBLIC "-//SPRING//DTD WEBFLOW//EN"
	"http://www.springframework.org/dtd/spring-webflow.dtd">
	
<!-- 
	This simple flow demonstrates the use of the FormAction: a multi-action
	that allows you to mimic the exact behaviour of the SimpleFormController in a flow.
	Notice how all the actions use the same "birthDateFormAction" bean, which groups
	all actions executed by this flow in single class!
	
	Note that this flow implements the exact flow of the SimpleFormController as an example.
	If you only need this flow, it is advised that you just use the SimpleFormController.
	
	This is a simplified definition of the BirthDate flow (see birthDate-flow.xml) that
	uses view state entry actions and transition actions to make the flow definition more compact.
-->
<webflow id="birthdate" start-state="displayForm">

	<view-state id="displayForm" view="form">
		<entry>
			<action bean="formAction" method="setupForm"/>
		</entry>
		<transition on="submit" to="calculateAge">
			<action bean="formAction" method="bindAndValidate"/>
		</transition>
	</view-state>
	
	<action-state id="calculateAge">
		<action name="calculateAge" bean="birthDateFormAction"/>
		<transition on="calculateAge.success" to="displaySuccess"/>
	</action-state>
	
	<end-state id="displaySuccess" view="success"/>

</webflow>