<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<beans>

	<bean id="flowExecutionManager" class="org.springframework.webflow.execution.FlowExecutionManager">
		<constructor-arg ref="flowLocator"/>
	</bean>
	
	<bean id="flowLocator" class="org.springframework.webflow.config.registry.FlowRegistryFactoryBean">
		<constructor-arg>
			<bean class="org.springframework.webflow.config.ChainedFlowRegistrar">
				<constructor-arg>
					<list>
						<ref bean="xmlFlows"/>
						<ref bean="javaFlows"/>
					</list>
				</constructor-arg>
			</bean>
		</constructor-arg>
	</bean>

	<bean id="xmlFlows" class="org.springframework.webflow.config.registry.XmlFlowRegistrar">
		<property name="definitionLocations">
			<list>
				<value>classpath:org/springframework/webflow/samples/phonebook/web/search-flow.xml</value>
				<value>classpath:org/springframework/webflow/samples/phonebook/web/detail-flow.xml</value>
			</list>
		</property>
	</bean>

	<bean id="javaFlows" class="org.springframework.webflow.config.registry.FlowRegistrarImpl">
		<property name="flowBuilders">
			<list>
				<bean class="org.springframework.webflow.samples.phonebook.web.SearchPersonFlowBuilder"/>
				<bean class="org.springframework.webflow.samples.phonebook.web.PersonDetailFlowBuilder"/>
			</list>
		</property>
	</bean>
	
</beans>