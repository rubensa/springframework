<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<beans>

	<bean id="weaver" 
		class="org.springframework.instrument.classloading.InstrumentationLoadTimeWeaver"/>

	
	<bean id="entityManagerFactory"
		class="org.springframework.orm.jpa.ContainerEntityManagerFactoryBean">
	
		<property name="dataSource" ref="dataSource" />

		<property name="loadTimeWeaver" ref="weaver" />
		
		<property name="persistenceXmlLocation"
			value="classpath:META-INF/petclinic-persistence.xml" />
		
		<property name="persistenceUnitRootLocation" 
			value="file:/c:/work/spring/spring/samples/petclinic/.classes" />

		
		<property name="jpaVendorAdapter">
			<bean class="org.springframework.orm.jpa.vendor.TopLinkJpaVendorAdapter">
				
				<property name="generateDdl" value="false" />
							
		<!--
				<property name="database" value="HSQL" />
		-->
					
				<!--
					In the case of TopLink, this property can be
					set to a platform class.
				-->
				<property name="databasePlatform" 
					value="org.springframework.samples.petclinic.toplink.EssentialsHSQLPlatformWithNativeSequence" />	
				
				<property name="showSql" value="true" />

			</bean>
		</property>				

	</bean>
	

	<bean id="dataSource" class="org.springframework.jdbc.datasource.DriverManagerDataSource">
		<property name="driverClassName"><value>org.hsqldb.jdbcDriver</value></property>
		<property name="url"><value>jdbc:hsqldb:hsql://localhost:9001</value></property>
		<property name="username"><value>sa</value></property>
		<property name="password"><value></value></property>
	</bean>		


	<bean id="transactionManager" class="org.springframework.orm.jpa.JpaTransactionManager" >
		<property name="entityManagerFactory" ref="entityManagerFactory" />
		<property name="dataSource" ref="dataSource"/>
	</bean>
	

</beans>
