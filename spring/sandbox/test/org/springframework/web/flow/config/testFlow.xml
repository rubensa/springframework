<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE web-flow PUBLIC "-//SPRING//DTD WEB FLOW//EN"
	"http://www.springframework.org/dtd/web-flow.dtd">

<web-flow id="testFlow" start-state="actionState1">

	<action-state id="actionState1">
		<action bean="action1"/>
		<action name="action2Name" bean="action2"/>
		<transition event="event1" to="viewState1"/>
		<transition event="action2Name.event2" to="viewState2"/>
	</action-state>
	
	<view-state id="viewState1" view="view1">
		<transition event="event1" to="subFlowState1"/>
	</view-state>
	
	<view-state id="viewState2" marker="true">
		<transition event="event2" to="subFlowState2"/>
	</view-state>
	
	<view-state id="viewState3">
		<transition event="event3" to="endState3"/>
	</view-state>
	
	<sub-flow-state id="subFlowState1" flow="subFlow1" model-mapper="modelMapper1">
		<transition event="event1" to="endState1"/>
	</sub-flow-state>
	
	<sub-flow-state id="subFlowState2" flow="subFlow2">
		<transition event="event2" to="endState2"/>
	</sub-flow-state>
	
	<end-state id="endState1" view="endView1"/>
	
	<end-state id="endState2" marker="true"/>
	
	<end-state id="endState3"/>

</web-flow>